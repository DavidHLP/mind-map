---
markmap:
  colorFreezeLevel: 2
---

# Java 中 HashMap 的默认负载因子为什么是 0.75?

## 回答重点

- 在**时间复杂度**和**空间复杂度**之间取得一个合理的平衡
- 避免过多扩容
- 保证不会出现过多的哈希冲突
- 确保查找和插入操作的效率

## 扩展知识

### 什么是负载因子

- **定义**: 衡量 `HashMap` 的满载程度
- **公式**: `负载因子 = 实际存储的元素数量 / 容量`
- **触发扩容**: 当 `元素数量 > 容量 × 负载因子` 时

### 为什么不选择 1.0

- **优点**:
  - 减少扩容次数
  - 提高内存利用率
- **缺点**:
  - 增加哈希冲突的可能性
  - 导致桶内链表或红黑树变长
  - 时间复杂度劣化为 O(n)

### HashMap 源码注释解读

- **核心思想**: 0.75 是空间和时间上的平衡点
- ![HashMap Source Code Comment](https://pic.code-nav.cn/mianshiya/question_picture/1772087337535152129/IzQdlrA8_20b7c330-9493-4ce7-8a8a-2e6713e00ac1_mianshiya.png)
- **较低的负载因子 (如 0.5)**:
  - **优点**: 冲突少，查找效率高
  - **缺点**: 频繁扩容，空间利用率低，增加 rehashing 开销
- **较高的负载因子 (如 1.0)**:
  - **优点**: 减少扩容，空间利用率高
  - **缺点**: 增加哈希冲突，降低查找效率

### 不同场景下的负载因子调整

- **高并发读取场景**:
  - 降低负载因子 (如 0.5)
  - 目的: 减少哈希冲突，提高读取性能
- **内存受限场景**:
  - 提高负载因子 (如 0.85 或更高)
  - 目的: 减少扩容次数和内存消耗
  - 代价: 可能降低写入和查询性能
