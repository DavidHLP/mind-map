---
markmap:
  colorFreezeLevel: 2
---

# MySQL 中的 MVCC

## 是什么

- MVCC（Multi-Version Concurrency Control，多版本并发控制）
- 允许多个事务同时读写数据库，无需互相等待，提高并发性能

## 实现

- 每个事务创建数据快照
- 修改数据时不覆盖原有数据，而是生成新版本
- 每条记录保留版本号或时间戳
- 多版本形成版本链

## 作用

- 普通读（Read）无需加锁，读写不阻塞
- 写操作创建新版本，提交后其他事务可见
- 提供一致性快照，历史版本供事务读取

## 面试速记

- **Q1: MVCC 是什么？**
  - 多版本并发控制，支持读写并发
- **Q2: 实现方式？**
  - 数据快照 + 版本号/时间戳 + 版本链
- **Q3: 读操作会阻塞写操作吗？**
  - 不会，普通读无需加锁
- **Q4: 写操作影响其他事务吗？**
  - 未提交的写不会影响其他事务
- **Q5: MVCC 优势？**
  - 高并发性能，读写互不阻塞
  - 提供一致性快照
