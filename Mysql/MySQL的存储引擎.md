---
markmap:
  colorFreezeLevel: 2
---

# MySQL 存储引擎

## 1. InnoDB

### 特点

- 支持 **事务、行级锁、外键**
- 存储限制：**64TB**
- 支持 **数据缓存、聚簇索引、多版本并发控制（MVCC）**
- 读写阻塞与事务隔离级别有关
- 文件结构：
  - `tb_name.frm` → 表结构
  - `tb_name.ibd` → 数据行和索引
- 适用高负载 **OLTP 系统**

### 应用场景

- **事务处理系统**：银行转账、电商订单等
- **高并发读写**：在线票务、社交平台
- **数据可靠性要求高**：核心业务数据，利用 redo log 和 undo log 可快速恢复

---

## 2. MyISAM

### 特点

- 不支持事务、外键、行级锁（表级锁）
- 存储限制：**256TB**
- 不支持数据缓存、聚簇索引、MVCC
- 读写互相阻塞
- 文件结构：
  - `tbl_name.frm` → 表结构
  - `tbl_name.MYD` → 数据行
  - `tbl_name.MYI` → 索引
- 适用 **读多写少、表较小** 的场景

### 应用场景

- **读密集型应用**：新闻网站、博客系统
- **数据仓库和分析系统**：批量加载、全文搜索
- **嵌入式系统或移动应用**：资源受限场景

---

## 3. MEMORY

- 数据存储在 **内存中**
- 速度快，但服务器重启数据会丢失
- 适用于临时表或快速缓存

---

## 4. NDB（NDBCluster）

- 高可用、分布式存储
- 提供行级锁和自动分区
- 适合大规模分布式应用

---

## 5. ARCHIVE

- 存储大量历史数据
- 支持高效插入和压缩
- 不支持索引
- 适合日志或归档数据存储

---

## 面试速记

- **InnoDB → OLTP、事务、高并发、可靠性**
- **MyISAM → 读多写少、全文索引、轻量**
- **MEMORY → 临时、高速**
- **NDB → 分布式、高可用**
- **ARCHIVE → 历史/归档数据、压缩插入快**
